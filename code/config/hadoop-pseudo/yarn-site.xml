<?xml version="1.0"?>
<configuration>

  <!-- See http://hadoop.apache.org/docs/current/hadoop-yarn/hadoop-yarn-common/yarn-default.xml -->
  
  <!-- Directories -->

  <property> <name>yarn.nodemanager.log-dirs</name>                <value>%HADOOP_LOG_DIR/yarn-containers</value>                      <description>Container log location</description>                                     </property>
  <property> <name>yarn.nodemanager.remote-app-log-dir</name>      <value>%HADOOP_LOG_DIR/yarn-apps</value>                            <description>Application log location</description>                                   </property>
  <property> <name>yarn.nodemanager.local-dirs</name>              <value>%HADOOP_JRNL_DIR/yarn-jobs/${user.name}</value>                   <description>Job-local file location</description> </property>

  <!-- Logging -->

  <!-- Temp files kept for five hours. Logs kept for 10 days. -->
  <property> <name>yarn.nodemanager.delete.debug-delay-sec</name>  <value>18000</value>                                                 <description>Delay before removing local files following job completion</description> </property>
  <property> <name>yarn.log-aggregation-enable</name>              <value>true</value> </property>
  <property> <name>yarn.log-aggregation.retain-seconds</name>      <value>864000</value> </property>
  <property> <name>yarn.nodemanager.log.retain-seconds</name>      <value>864000</value> </property>
  <property> <name>yarn.log-aggregation-enable</name>              <value>true</value>                                                                                                                                       </property>

  <!-- Map/Reduce -->

  <property> <name>yarn.nodemanager.aux-services</name>            <value>mapreduce_shuffle</value>                                                                                                                          </property>
  <property> <name>yarn.application.classpath</name>               <value>$HADOOP_CONF_DIR,$HADOOP_COMMON_HOME/*,$HADOOP_COMMON_HOME/lib/*,$HADOOP_HDFS_HOME/*,$HADOOP_HDFS_HOME/lib/*,$HADOOP_MAPRED_HOME/*,$HADOOP_MAPRED_HOME/lib/*,$HADOOP_YARN_HOME/*,$HADOOP_YARN_HOME/lib/*</value> <description>Classpath for typical applications.</description>        </property>
  <property> <name>yarn.nodemanager.aux-services.mapreduce_shuffle.class</name> <value>org.apache.hadoop.mapred.ShuffleHandler</value>                                                                                                    </property>

  <!-- Pesudo-mode only -->

  <property> <name>yarn.dispatcher.exit-on-error</name>            <value>true</value> </property>
 
  <property> <name>yarn.nodemanager.resource.cpu-vcores</name>     <value>3</value>  </property>
  <property> <name>yarn.nodemanager.resource.memory-mb</name>      <value>2000</value>  </property>
  <property> <name>yarn.scheduler.minimum-allocation-mb</name>     <value>384</value> </property>
  <property> <name>yarn.app.mapreduce.am.command-opts</name>       <value>-Djava.awt.headless=true -Xmx256m</value> </property>
  <property> <name>yarn.app.mapreduce.am.admin-command-opts</name> <value>-Djava.awt.headless=true</value> </property>

</configuration>
